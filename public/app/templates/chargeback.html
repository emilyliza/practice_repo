<div class="row cbFormRow">
	<div class="col-sm-8">
		<h2 style="margin-top: 0px;">
			Chargeback {{data.portal_data.CaseNumber}}
		</h2>
	</div>
	<div class="col-sm-4">
		<div id="status-buttons" class="row" ng-if="data.status == 'New' || data.status == 'In-Progress'">
			<div class="col-xs-3"><a ui-sref-active="active" ui-sref=".card"><span>1</span> Type</a></div>
			<div class="col-xs-3"><a ui-sref-active="active" ui-sref=".questions"><span>2</span> Questions</a></div>
			<div class="col-xs-3"><a ui-sref-active="active" ui-sref=".data"><span>3</span> Data</a></div>
			<div class="col-xs-3"><a ui-sref-active="active" ui-sref=".review"><span>4</span> Review</a></div>
		</div>
		
	</div>
</div>

<form name="cbForm" role="form" novalidate >
	
	<div class="row">
	
	<div class="col-sm-4 col-sm-push-8 form-sidebar">
		
		<div class="side-cbinfo" ng-if="state.current.name != 'chargeback.confirmation'">
			<div class="imported">
				<div class="side-cbinfo-head">IMPORTED DATA</div>
				
				<div class="side-cbinfo-desc">Data received regarding this chargeback case. Use this information to locate any missing data.</div>

				<div class="row">
					<div class="col-xs-4" style="text-align: right;">Status:</div>
					<div class="col-xs-8 status-colors">
						<span class="{{data.status}}">
							{{data.status}} &nbsp;
							<span ng-if="data.status == 'Sent'" class="glyphicon glyphicon-send"></span>
							<span ng-if="data.status == 'In-Progress'" class="glyphicon glyphicon-circle-arrow-right"></span>
							<span ng-if="data.status == 'Won'" class="glyphicon glyphicon-thumbs-up"></span>
							<span ng-if="data.status == 'Lost'" class="glyphicon glyphicon-thumbs-down"></span>
						</span>
					</div>
				</div>

				<div class="row" ng-if="data.portal_data.MidNumber">
					<div class="col-xs-4" style="text-align: right;">Type:</div>
					<div class="col-xs-8">
						<span ng-if="data.type == 'cp'">Card Present</span>
						<span ng-if="data.type == 'cnp'">Card Not Present</span>		
					</div>
				</div>

				<div class="row" ng-if="data.portal_data.MidNumber">
					<div class="col-xs-4" style="text-align: right;">MID:</div>
					<div class="col-xs-8">{{data.portal_data.MidNumber}}</div>
				</div>

				<div class="row" ng-if="data.gateway_data.FullName">
					<div class="col-xs-4" style="text-align: right;">Customer:</div>
					<div class="col-xs-8">{{data.gateway_data.FullName}}</div>
				</div>

				<div class="row" ng-if="data.portal_data.MidNumber">
					<div class="col-xs-4" style="text-align: right;">Amount:</div>
					<div class="col-xs-8">{{data.portal_data.ChargebackAmt | currency}}</div>
				</div>

				<div class="row" ng-if="data.portal_data.CcPrefix || data.portal_data.CcSuffix">
					<div class="col-xs-4" style="text-align: right;">Credit Card:</div>
					<div class="col-xs-8">
						<span ng-if="data.portal_data.CcPrefix">{{data.portal_data.CcPrefix}}</span><span ng-if="!data.portal_data.CcPrefix">XXXX</span>-XXXX-XXXX-<span ng-if="data.portal_data.CcSuffix">{{data.portal_data.CcSuffix}}</span><span ng-if="!data.portal_data.CcSuffix">XXXX</span>
						<span ng-if="data.gateway_data.CcType">({{data.gateway_data.CcType}})</span>
					</div>
				</div>

				<div class="row">
					<div class="col-xs-4" style="text-align: right;">Shipped:</div>
					<div class="col-xs-8">{{data.shipped}}</div>
				</div>
				<div class="row">
					<div class="col-xs-4" style="text-align: right;">Refunded:</div>
					<div class="col-xs-8">{{data.refunded}}</div>
				</div>
				<div class="row">
					<div class="col-xs-4" style="text-align: right;">Recurring:</div>
					<div class="col-xs-8">{{data.recurring}}</div>
				</div>


				<div class="row" ng-if="data.portal_data.ReasonCode || data.portal_data.ReasonText">
					<div class="col-xs-4" style="text-align: right;">Reason:</div>
					<div class="col-xs-8">{{data.portal_data.ReasonText}}</div>
				</div>
			</div>

			<div class="form-group btns" style="text-align: center; margin-top: 40px;" ng-if="state.current.name == 'chargeback.review'">
				<button type="button" class="btn btn-success" ng-if="data.status == 'In-Progress'" style="margin-right: 20px;" ng-click="submit('Are you sure you want to submit this chargeback dispute?', 'Yes, submit it!', 'No, keep working.')" class="btn btn-danger">Submit Chargeback Dispute</button>
				<button type="button" ng-if="data.status == 'Won' || data.status == 'Lost' || data.status == 'Sent'" ng-click="download('/images/example.0511cc.pdf')" class="btn btn-info">Download Chargeback PDF</button>

			</div>
		</div>

		<div class="side-cbinfo" ng-if="state.current.name == 'chargeback.confirmation'">
			<div class="side-main-head">KEEP IN MIND</div>
			<div>
				<ul>
					<li>Processors may ask for additional information.</li>
					<li>It usually takes about one week for processors to respond.</li>
					<li>Not all processors will notify chargeback.com, so check with your processor directly in about one week.</li>
				</ul>
			</div>
			
		</div>

	</div>
	<div class="col-sm-8 col-sm-pull-4" ui-view>
		
	</div>
</form>